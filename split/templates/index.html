{% extends "base.html" %}
{% block header %}
<div class="bs-docs-masthead" id="content">
    <div class="container">
        <h1 class="home-title">Split</h1>
        <p class="lead">We teach machines to read and summarize text.<sup>1</sup> </p>
        <p class="lead">
            <a href="#summarizer" class="btn btn-outline-inverse btn-lg">Try Now</a>
        </p>
        <p><sup>1</sup>&nbsp;Okay, we try. Our "machines" are still infants. </p>
    </div>
</div>
{% endblock header%}

{%- block content -%}
<section class="bs-docs-section" id="summarizer">
    <h1 class="page-header">Summarize text</h1>
    <p class="lead">Non-fiction prose works best, but we won't stop you from being amused by summaries of short stories.</p>
    <form action="/summarize/" method="post">
        <div class="form-group">
            <label for="summarizer-source-text">Copy-Paste your text below to get started.</label>
            <textarea class="form-control" id="summarizer-source-text" rows="20" style="resize:vertical;" name="source_text"></textarea>
        </div>
        <div class="form-group">
            <input class="btn btn-lg btn-primary center" type="submit" value="Summarize">
        </div>
    </form>
</section>
{%- endblock content -%}

{% block headerscripts %}    
{# <script src="https://cdnjs.cloudflare.com/ajax/libs/trianglify/0.4.0/trianglify.min.js"></script> #}
<script src="/static/js/trianglify.min.js"></script>
<script>
    var masthead = document.getElementById('content');
    var dimensions = masthead.getClientRects()[0];
    var pattern = Trianglify({
        width: window.innerWidth,
        height: window.innerHeight,
        variance: 1.0,
        cell_size: 100,
        x_colors: ['#050030', '#CC4497'],
        y_colors: 'match_x',
        color_function: false
    });
    masthead.style['background-image'] = 'url(' + pattern.png() + ')';
</script>
{% endblock headerscripts%}
